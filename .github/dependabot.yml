version: 2
registries:
  ghcr:
    type: docker-registry
    url: ghcr.io
    username: ${{ github.actor }}
    password: ${{ secrets.PAT_GITHUB_TOKEN }}
  dhi:
    type: docker-registry
    url: dhi.io
    username: ${{ secrets.DOCKER_HUB_USERNAME }}
    password: ${{ secrets.DOCKER_HUB_TOKEN }}
updates:
  - package-ecosystem: "docker"
    directory: "/issue-with-distroless/"
    schedule:
      interval: "weekly"
    groups:
      ci:
        patterns:
          - "*"
  - package-ecosystem: "docker"
    directory: "/no-issue-with-distroless/"
    schedule:
      interval: "weekly"
    groups:
      ci:
        patterns:
          - "*"
  - package-ecosystem: "docker"
    directory: "/issue-with-dotnet/"
    schedule:
      interval: "weekly"
    groups:
      ci:
        patterns:
          - "*"
  - package-ecosystem: "docker"
    directory: "/no-issue-with-distroless-private/"
    schedule:
      interval: "weekly"
    registries:
    - ghcr
    groups:
      ci:
        patterns:
          - "*"
  - package-ecosystem: "docker"
    directory: "/no-issue-with-dhi/"
    schedule:
      interval: "weekly"
    registries:
    - dhi
    groups:
      ci:
        patterns:
          - "*"